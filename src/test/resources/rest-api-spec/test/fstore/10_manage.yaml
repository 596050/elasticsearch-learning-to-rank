---
"Create and delete the default store":
  - do:
        ltr.create_store: {}

  - do:
        indices.exists:
            index: .ltrstore

  - is_true: ''

  - do:
        ltr.delete_store: {}

  - do:
        indices.exists:
            index: .ltrstore

  - is_false: ''

---
"Create and delete a custom store":
  - do:
        ltr.create_store:
            store: mystore

  - do:
        indices.exists:
            index: .ltrstore_mystore

  - is_true: ''

  - do:
        ltr.delete_store:
            store: mystore

  - do:
        indices.exists:
            index: .ltrstore_mystore

  - is_false: ''

---
"Get cache stats":
  - do:
        ltr.create_store: {}

  - do:
        ltr.cache_stats: {}

  - match: { all.total.ram: 0 }

  - do:
        ltr.clear_cache: {}

  - is_true: ''

  - do:
        ltr.cache_stats: {}

  - match: { all.total.ram: 0 }
